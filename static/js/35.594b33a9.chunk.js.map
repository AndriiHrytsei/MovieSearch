{"version":3,"file":"static/js/35.594b33a9.chunk.js","mappings":"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","sources":["webpack://react-hw-07-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","webpack://react-hw-07-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","components/pages/Movies/Movies.jsx","fetchData.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"SearchForm_searchForm__NsJpF\",\"searchInput\":\"SearchForm_searchInput__h6REp\",\"submitBtn\":\"SearchForm_submitBtn__0lkB5\"};","import PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\nimport { useSearchParams } from 'react-router-dom';\n\nexport default function SearchForm({ onSubmit }) {\n  const [searchParams, setSearchParams] = useSearchParams()\n  const query = searchParams.get(\"query\")\n\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      return;\n    }\n    onSubmit(query);\n  };\n\n  return (\n    <form onSubmit={handleFormSubmit} className={css.searchForm}>\n      <input\n        type=\"text\"\n        name=\"searchInput\"\n        className={css.searchInput}\n        id=\"searchInput\"\n        required\n        autoFocus\n        onChange={e => setSearchParams({ query: e.currentTarget.value })}\n      />\n      <button type=\"submit\" className={css.submitBtn}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"navLink\":\"MovieList_navLink__Y0vr9\"};","import { NavLink, useLocation } from 'react-router-dom';\nimport fetchData from '../../fetchData';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './MovieList.module.css';\n\nexport default function MovieList({ data }) {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const location = useLocation()\n\n  const searchMovies = async q => {\n    setStatus('pending');\n    try {\n      const response = await fetchData(\n        `https://api.themoviedb.org/3/search/movie?query=${q}&api_key=ee0ed139d0a1d8fcbabd26e40efda78c`\n      );\n      setMovies(response.results);\n      setStatus('resolved');\n      setError(false);\n    } catch (error) {\n      setError(error.message);\n      setStatus('rejected');\n    }\n  };\n\n  useEffect(() => {\n    searchMovies(data);\n  }, [data]);\n\n  if (status === 'pending') {\n    return <p>Loading...</p>;\n  }\n  if (status === 'rejected') {\n    return <p>{error}</p>;\n  }\n  if (status === 'resolved') {\n    return (\n      <ul>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <NavLink className={css.navLink} to={`${movie.id}`} state = {{ from: location }}>\n              {movie.title || movie.name}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nMovieList.propTypes = {\n  data: PropTypes.string.isRequired,\n};\n","import { useState } from 'react';\nimport SearchForm from '../../SearchForm/SearchForm';\nimport MovieList from 'components/MovieList/MovieList';\n\nexport default function Movies() {\n  const [query, setQuery] = useState('');\n\n  return (\n    <main>\n      <SearchForm onSubmit={query => setQuery(query)} />\n      <MovieList data={query} />\n    </main>\n  );\n}\n","export default async function fetchData(api) {\n  try {\n    const data = await fetch(api);\n    const response = await data.json();\n    return response;\n  } catch (error) {\n    return Promise.reject(new Error(error.message));\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["SearchForm","onSubmit","useSearchParams","searchParams","setSearchParams","query","get","e","preventDefault","trim","className","css","type","name","id","required","autoFocus","onChange","currentTarget","value","MovieList","data","useState","movies","setMovies","error","setError","status","setStatus","location","useLocation","searchMovies","q","fetchData","response","results","message","useEffect","map","movie","to","state","from","title","Movies","setQuery","api","fetch","json","Promise","reject","Error","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","done","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}